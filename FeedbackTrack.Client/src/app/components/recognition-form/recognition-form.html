<div class="container" style="max-width: 600px; margin-top: 40px;">
    <div class="card">
        <h2>Give Recognition (Kudos)</h2>

        <div *ngIf="successMessage" class="btn-success" style="margin-bottom: 15px; text-align: center;">
            {{ successMessage }}
        </div>
        <div *ngIf="errorMessage" class="btn-danger" style="margin-bottom: 15px; text-align: center;">
            {{ errorMessage }}
        </div>

        <form (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="recipient">Recipient</label>
                <select id="recipient" [(ngModel)]="recognition.toUserId" name="toUserId" class="form-control" required
                    style="width: 100%; padding: 10px;">
                    <option [ngValue]="null" disabled>Select a colleague...</option>
                    <option *ngFor="let user of users" [value]="user.id">
                        {{ user.name }} ({{ user.department?.departmentName || 'Unknown Dept' }})
                    </option>
                </select>
            </div>

            <div class="form-group">
                <label for="badge">Badge/Type</label>
                <select id="badge" [(ngModel)]="recognition.badgeType" name="badgeType" class="form-control" required
                    style="width: 100%; padding: 10px;">
                    <option *ngFor="let badge of badges" [value]="badge">{{ badge }}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="points">Points Awarded</label>
                <input type="number" id="points" [(ngModel)]="recognition.points" name="points" min="1" max="100"
                    class="form-control" required style="width: 100%; padding: 10px;">
            </div>

            <div class="form-group">
                <label for="comments">Comments</label>
                <textarea id="comments" [(ngModel)]="recognition.comments" name="comments" rows="3" class="form-control"
                    placeholder="Tell them why they are awesome..." style="width: 100%; padding: 10px;"></textarea>
            </div>

            <button type="submit" class="btn btn-success" [disabled]="isLoading || !recognition.toUserId">
                {{ isLoading ? 'Sending...' : 'Give Kudos' }}
            </button>
            <button type="button" class="btn btn-danger" style="margin-left: 10px;" (click)="loadUsers()">Reload
                Users</button>
        </form>
    </div>
</div>